# xtun
æ—¢ç„¶é¡¹ç›®å·²ç»æˆå‹ï¼Œä¸€ä¸ªå‡ºè‰²çš„ `README.md` å°±æ˜¯å®ƒçš„â€œè„¸é¢â€ã€‚å®ƒä¸ä»…èƒ½å¸®ä½ è®°å½•ç”¨æ³•ï¼Œè¿˜èƒ½è®©å…¶ä»–é€šè¿‡æœç´¢æ¥åˆ°ä½ ä»“åº“çš„â€œæœºå‹â€å¿«é€Ÿä¸Šæ‰‹ã€‚

ä¸ºä½ å‡†å¤‡äº†ä¸€ä»½ç»“æ„æ¸…æ™°ã€ä¸“ä¸šä¸”å¸¦ç‚¹â€œæå®¢å‘³â€çš„æ–‡æ¡£ï¼š

---

# XTUN - è‡ªåŠ¨åŒ–éš§é“æ¬è¿ä¸éƒ¨ç½²å·¥å…·

**XTUN** æ˜¯ä¸€ä¸ªä¸“ä¸ºâ€œNAT å°é¸¡â€å’Œè½»é‡çº§æœåŠ¡å™¨è®¾è®¡çš„å·¥å…·é›†ã€‚å®ƒé€šè¿‡ GitHub Actions è‡ªåŠ¨ä»ä¸Šæ¸¸åŒæ­¥ `x-tunnel` äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶ç»“åˆå®˜æ–¹æœ€æ–°ç‰ˆçš„ `cloudflared`ï¼Œæä¾›ä¸€é”®åŒ–ã€é™é»˜å¼çš„ Systemd éƒ¨ç½²æ–¹æ¡ˆã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

* **è‡ªåŠ¨åŒæ­¥**ï¼šæ¯æ—¥å®šæ—¶ä» `baipiao.eu.org` æ¬è¿å„æ¶æ„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ°¸ä¸æ‰é˜Ÿã€‚
* **å®˜æ–¹æºç›´è¿**ï¼š`cloudflared` å§‹ç»ˆä» Cloudflare å®˜æ–¹ GitHub ä¸‹è½½æœ€æ–°ç¨³å®šç‰ˆã€‚
* **ç½‘ç»œä¼˜åŒ–**ï¼šé»˜è®¤å¯ç”¨ `--edge-ip-version 4` å’Œ `--protocol http2`ï¼Œä¸“æ²» NAT ç¯å¢ƒä¸‹ä¸ç¨³å®šçš„ UDP å’Œ IPv6 è·¯ç”±ã€‚
* **é™é»˜å®‰è£…**ï¼šæ”¯æŒå…¨å‘½ä»¤è¡Œå‚æ•°ï¼Œæ— éœ€äº¤äº’ï¼Œé€‚åˆæ‰¹é‡è„šæœ¬éƒ¨ç½²ã€‚
* **æ™ºèƒ½ç®¡ç†**ï¼šå†…ç½® Systemd æœåŠ¡æ”¯æŒï¼Œå´©æºƒè‡ªåŠ¨é‡å¯ï¼Œæ”¯æŒä¸€é”®å½»åº•å¸è½½ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æ¬è¿å·¥æ¨¡å¼ (GitHub Actions)

ä»“åº“å†…å« `.github/workflows/sync.yml`ã€‚åªéœ€ fork æœ¬ä»“åº“ï¼Œåœ¨ **Settings > Actions** ä¸­å¼€å¯ **Read and write permissions**ï¼Œå³å¯å®ç°å±äºä½ è‡ªå·±çš„ç§æœ‰äºŒè¿›åˆ¶ä»“åº“ã€‚

### 2. ä¸€é”®é™é»˜å®‰è£… (æ¨è)

åœ¨ä½ çš„ Linux æœºå™¨ï¼ˆæ”¯æŒ Systemdï¼Œå¦‚ Debian/Ubuntu/Alpine ç­‰ï¼‰ä¸Šæ‰§è¡Œï¼š

```bash
wget -qO install.sh https://raw.githubusercontent.com/fxpasst1/xtun/main/install.sh && \
bash install.sh -p <ç«¯å£> -t <xtun_token> -k <cf_token>

```

### 3. å‚æ•°è¯´æ˜

| å‚æ•° | æè¿° | é»˜è®¤å€¼ / æ˜¯å¦å¿…å¡« |
| --- | --- | --- |
| `-p` | **x-tunnel** è¿è¡Œç«¯å£ (`wsport`) | **å¿…å¡«** |
| `-t` | **x-tunnel** è®¤è¯ Token | **å¿…å¡«** |
| `-k` | **Cloudflare Tunnel** éš§é“ Token | **å¿…å¡«** |
| `-m` | Metrics ç›‘æ§ç«¯å£ (ç”¨äºå¯¼å‡ºè¿è¡ŒçŠ¶æ€) | `2000` |
| `-f` | å¼ºåˆ¶æ¨¡å¼ï¼šåˆ é™¤æœ¬åœ°æ–‡ä»¶é‡æ–°ä¸‹è½½ | - |
| `-u` | å¸è½½æ¨¡å¼ï¼šåœæ­¢æœåŠ¡å¹¶æ¸…ç†æ‰€æœ‰æ®‹ç•™æ–‡ä»¶ | - |

---

## ğŸ›  å¸¸ç”¨å‘½ä»¤

* **æŸ¥çœ‹æœåŠ¡çŠ¶æ€**ï¼š
```bash
systemctl status xtunnel
systemctl status cf-tunnel

```


* **æŸ¥çœ‹è¿è¡Œæ—¥å¿—**ï¼š
```bash
journalctl -u cf-tunnel -f

```


* **å¸è½½ XTUN**ï¼š
```bash
bash install.sh -u

```



---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
.
â”œâ”€â”€ .github/workflows/  # è‡ªåŠ¨åŒæ­¥ä»»åŠ¡é…ç½®
â”œâ”€â”€ bin/               # å­˜æ”¾å„æ¶æ„äºŒè¿›åˆ¶æ–‡ä»¶ (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ suoha-x.sh         # åŒæ­¥è‡ªä¸Šæ¸¸çš„åŸå§‹è„šæœ¬ (å·²é‡å®šå‘é“¾æ¥)
â””â”€â”€ install.sh         # æ ¸å¿ƒé™é»˜å®‰è£…è„šæœ¬

```

---

## âš–ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œä¸ªäººè¿ç»´æ•ˆç‡æå‡ã€‚äºŒè¿›åˆ¶æ–‡ä»¶æ¥æºäºç¬¬ä¸‰æ–¹åŠå®˜æ–¹å‘è¡Œç‰ˆï¼Œè¯·åœ¨ä½¿ç”¨å‰è‡ªè¡Œè¯„ä¼°å®‰å…¨æ€§ã€‚

---

### ğŸ’¡ å°è´´å£«

å¦‚æœè§‰å¾—å¥½ç”¨ï¼Œåˆ«å¿˜äº†ç‚¹ä¸ª **Star** å…³æ³¨æ›´æ–°ï¼

